---
export const prerender = true;
import MainBanner from "../components/MainBanner.astro";
import Layout from "../layouts/Layout.astro";
import * as AstroFeather from "astro-feather";
import WooCommerceAPI from "woocommerce-api";

var WooCommerce = new WooCommerceAPI({
  url: "https://server.moreo.pk",
  consumerKey: "ck_072ac448907ae431ff878e1cc601852cc406e44f",
  consumerSecret: "cs_2a1ac9efd9dd38f05c10c520fccdf9bdcdd328af",
  wpAPI: true,
  version: "wc/v2",
});

let products = null;
WooCommerce.getAsync("products").then(function (result) {
  products = JSON.parse(result.toJSON().body);
});

// let products = [];
// fetch("https://server.moreo.pk/wc/v3/products")
//   .then((res) => res.json())
//   .then((data) => (products = data))
//   .catch((err) => console.log(err));

// const personResponse = await fetch("https://server.moreo.pk/wp-json/wc/v3/products", {

// });
// const personData = await personResponse.json();
// const randomPerson = personData.results[0];
// products = await products.json()

// console.log(products)
---

<Layout title="Welcome to Astro.">
  <main>
    <MainBanner />

    <div class="max-w-screen-xl flex flex-wrap justify-between mx-auto py-4">
      <div class="w-1/5 pr-5">
        <a
          href={"/"}
          class="rounded-xl flex h-20 items-center justify-between p-4 bg-primary text-white"
        >
          <p class="font-extrabold text-md italic">HOME</p>
          <AstroFeather.HomeIcon />
        </a>
        <a
          href={"/"}
          class="mt-3 h-20 rounded-xl flex items-center justify-between p-4 bg-gray-light text-black hover:bg-primary hover:text-white"
        >
          <p class="font-extrabold text-md italic">NEW IN</p>
          <AstroFeather.ZapIcon />
        </a>
        <a
          href={"/"}
          class="mt-3 h-20 rounded-xl flex items-center justify-between p-4 bg-gray-light text-black hover:bg-primary hover:text-white"
        >
          <p class="font-extrabold text-md italic">COATS</p>
          <AstroFeather.ActivityIcon />
        </a>
        <a
          href={"/"}
          class="mt-3 h-20 rounded-xl flex items-center justify-between p-4 bg-gray-light text-black hover:bg-primary hover:text-white"
        >
          <p class="font-extrabold text-md italic">TOPS</p>
          <AstroFeather.ActivityIcon />
        </a>
        <a
          href={"/"}
          class="mt-3 h-20 rounded-xl flex items-center justify-between p-4 bg-gray-light text-black hover:bg-primary hover:text-white"
        >
          <p class="font-extrabold text-md italic">BOTTOMS</p>
          <AstroFeather.ActivityIcon />
        </a>
        <a
          href={"/"}
          class="mt-3 h-20 rounded-xl flex items-center justify-between p-4 bg-gray-light text-black hover:bg-primary hover:text-white"
        >
          <p class="font-extrabold text-md italic">JEWELLERY</p>
          <AstroFeather.ActivityIcon />
        </a>
      </div>

      <div class="w-4/5 pl-5">
        <div>
          <h2 class="font-extrabold italic text-4xl">HOME</h2>
          <p class="font-bold text-sm">View More</p>
        </div>

        <div class="flex flex-wrap mt-5">
          <a
            href={"/"}
            class="rounded-xl flex h-12 items-center justify-between px-6 py-4 border-gray-light border-2"
          >
            <AstroFeather.SlidersIcon size={18} />
            <p class="ml-5 font-bold text-md">Sort</p>
          </a>
          <a
            href={"/"}
            class="ml-5 rounded-xl flex h-12 items-center justify-between px-6 py-4 border-gray-light border-2"
          >
            <p class="font-bold text-md">Product Type</p>
          </a>
          <a
            href={"/"}
            class="ml-5 rounded-xl flex h-12 items-center justify-between px-6 py-4 border-gray-light border-2"
          >
            <p class="font-bold text-md">Style</p>
          </a>
          <a
            href={"/"}
            class="ml-5 rounded-xl flex h-12 items-center justify-between px-6 py-4 border-gray-light border-2"
          >
            <p class="font-bold text-md">Size</p>
          </a>
          <a
            href={"/"}
            class="ml-5 rounded-xl flex h-12 items-center justify-between px-6 py-4 border-gray-light border-2"
          >
            <p class="font-bold text-md">Color</p>
          </a>
          <a
            href={"/"}
            class="ml-5 rounded-xl flex h-12 items-center justify-between px-6 py-4 border-gray-light border-2"
          >
            <p class="font-bold text-md">Price Range</p>
          </a>
        </div>
        {JSON.stringify(products)}
        <!-- {
          products.map((item) => (
            <div class="flex flex-wrap mt-5">
              <div
                class="w-1/4
			rounded-xl
			flex
			flex-col
			items-center
			justify-center
			p-4
			bg-gray-light
			text-black
			hover:bg-primary
			hover:text-white
			bg-[url('https://moreo.pk/uploads/product-images/oP3jhzLl0NUnHEmRXbJD.jpg')]
			bg-cover
			bg-center
			h-96
			"
              >
                {item.name}
              </div>
            </div>
          ))
        } -->
      </div>
    </div>
  </main>
</Layout>
